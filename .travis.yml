language: android

before_install: 
  - cd HelloWorld
  - wget http://services.gradle.org/distributions/gradle-2.8-bin.zip
  - unzip gradle-2.8-bin.zip
  - export GRADLE_HOME=$PWD/gradle-2.8
  - export PATH=$GRADLE_HOME/bin:$PATH
  
jdk: oraclejdk7

env:
  global:
    - TERM=dumb

#script: gradle build
install:
  - TERM=dumb ./gradlew assemble

before_script:
  # Create and start emulator
  - echo no | android create avd --force -n test -t $ANDROID_TARGET --abi $ANDROID_ABI
  - emulator -avd test -no-skin -no-audio -no-window &
  - adb wait-for-device
  - adb shell input keyevent 82 &

script: ./gradlew connectedAndroidTest

#script:
  #TERM=dumb ./gradlew check
  #TERM=dumb ./gradlew testDebug --info
  #- TERM=dumb ./gradlew assemble -x test
